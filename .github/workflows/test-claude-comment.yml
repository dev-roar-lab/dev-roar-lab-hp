name: Test Claude Comment

on:
  workflow_dispatch:
    inputs:
      issue_number:
        description: 'Issue number to comment on'
        required: true
        type: number

permissions:
  issues: write
  contents: read

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Comment on issue with @claude mention
        env:
          GH_TOKEN: ${{ github.token }}
        run: |
          gh issue comment ${{ inputs.issue_number }} \
            --repo ${{ github.repository }} \
            --body "@claude ã“ã®issueã®å†…å®¹ã‚’ç¢ºèªã—ã¦ã€æ”¹å–„ææ¡ˆã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚"

      - name: Output test info
        run: |
          echo "âœ… ã‚³ãƒ¡ãƒ³ãƒˆã‚’æŠ•ç¨¿ã—ã¾ã—ãŸ"
          echo "ğŸ“ Issue: #${{ inputs.issue_number }}"
          echo "ğŸ¤– æŠ•ç¨¿è€…: github-actions[bot]"
          echo ""
          echo "æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:"
          echo "1. Issue #${{ inputs.issue_number }} ã‚’ç¢ºèª"
          echo "2. Claude Code ActionãŒåå¿œã™ã‚‹ã‹ç¢ºèª"
          echo "3. åå¿œã—ãªã„å ´åˆã¯ã€æ‰‹å‹•ã§@claudeãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦æ¯”è¼ƒ"
